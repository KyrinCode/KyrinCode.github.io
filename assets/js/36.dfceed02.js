(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{616:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("碰到了有关破解 WiFi 密码相关的教学，总结了一个 macOS 上的硬核教程")]),s._v(" "),t("h2",{attrs:{id:"hashcat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hashcat"}},[s._v("#")]),s._v(" Hashcat")]),s._v(" "),t("p",[s._v("Hashcat 是强大的开源密码恢复工具，可以利用 CPU 或 GPU 来攻击 160 多种哈希类型的密码。之前还有了解过另一个工具 Aircrack-ng，但相比之下，Hashcat 的破解速度要快很多。")]),s._v(" "),t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hashcat 经过编译安装后，文件存在于 /usr/local/bin /usr/local/share /usr/local/share/doc")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/hashcat/hashcat.git\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hashcat\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hashcat-utils 在后续过程需要其中的工具 cap2hccapx")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/hashcat/hashcat-utils.git\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hashcat-utils/src\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" *.bin "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/bin/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h2",{attrs:{id:"嗅探"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#嗅探"}},[s._v("#")]),s._v(" 嗅探")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为系统自带的 airport 创建 $PATH 下的软链接")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport ~/bin\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 监听 WiFi")]),s._v("\nairport -s\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("监听获取的结果中：SSID 是 WiFi 名称，RSSI 是信号强度，CHANNEL 是信道。")]),s._v(" "),t("p",[s._v("在系统报告中查找 WiFi 设备，可能是en0、en1。以信道 1 为例监听抓包。抓包期间需要有人对 WiFi 连接才会得到有效的 .cap 文件，这个过程要耐心等待甚至多次尝试。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" airport en0 sniff "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("抓包得到的 .cap 文件保存到了 /tmp 目录下。")]),s._v(" "),t("h2",{attrs:{id:"破解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#破解"}},[s._v("#")]),s._v(" 破解")]),s._v(" "),t("p",[s._v("利用 hashcat-utils 中编译得到的 cap2hccapx.bin 将 .cap 文件转换为 .hccapx 文件：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hashcat-utils/bin\n./cap2hccapx.bin xxx.cap output.hccapx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("使用 hashcat 命令破解，第一个参数：-m 2500 代表破解模式为 WPA/PSK 方式 ，第二个参数：hccapx 格式的文件是刚刚转换好的文件， 第三个参数：dict.txt 为字典文件。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("hashcat -m "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2500")]),s._v(" output.hccapx dict.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("破解中可以按 s 键进行查看进度。")]),s._v(" "),t("h3",{attrs:{id:"纯数字密码破解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#纯数字密码破解"}},[s._v("#")]),s._v(" 纯数字密码破解")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("hashcat -m "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2500")]),s._v(" -a "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" output.hccapx ?d?d?d?d?d?d?d?d\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("-a 3 代表 Attack-mode 为 Brute-force，?d?d?d?d?d?d?d?d 代表 8 位数字。")]),s._v(" "),t("h3",{attrs:{id:"crunch-生成字典"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#crunch-生成字典"}},[s._v("#")]),s._v(" crunch 生成字典")]),s._v(" "),t("p",[s._v("Kali 中，通过 crunch 生成字典，生成8位纯数字的字典，使用：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("crunch "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" 0123456789 -o dict.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("8 8 代表最小位数为 8 位， 最大位数也为 8 位，0123456789 为字典中的数字，生成的纯数字字典有900M。")])])}),[],!1,null,null,null);a.default=e.exports}}]);